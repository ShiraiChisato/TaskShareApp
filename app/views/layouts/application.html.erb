<!DOCTYPE html>
<html>
  <head>
    <title>TaskShareApp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <header>
    <div class="title">
      <% if user_signed_in? %> <!-- ユーザーがログインしているか調べる -->
        <!-- ユーザーがログインしていた時の処理 -->
        <h1> Hello! <%= current_user.name %> </h1>
        <div class = "button">
        <% unless current_page?(root_path) %>
          <%= button_to "Home", current_user, method: :get %>
        <% end %>
          <%= button_to "ログアウト", destroy_user_session_path, method: :delete %> <!-- ログアウトをする -->
        </div>
        <% else %>
          <!-- ユーザーがログインしていなかった時の処理 -->
        <h1> Welcome to TaskShare! </h1>
        <div class="button">
          <%= button_to "ログイン", new_user_session_path, method: :get %> <!-- ログイン画面に移行する -->
          <%= button_to "新規登録", new_user_registration_path, method: :get %> <!-- 新規登録画面に移行する -->
        </div>
      <% end %>
    </div>
  </header>
  <main>
    <%= yield %>
    <div class="notifications">
      <p class="notice"><%= notice %></p>
      <p class="alert"><%= alert %></p>
    </div>
  </main>
    <footer>
      <p>©Raisa</p>
    </footer>
  </body>
</html>
